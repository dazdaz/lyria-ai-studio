@import "tailwindcss";

@theme {
  /* Tokyo Night (default) */
  --color-surface: oklch(0.16 0.02 260);
  --color-surface-elevated: oklch(0.20 0.025 260);
  --color-surface-hover: oklch(0.24 0.03 260);
  --color-border: oklch(0.30 0.03 260);
  --color-border-subtle: oklch(0.24 0.025 260);
  --color-text: oklch(0.92 0.01 260);
  --color-text-muted: oklch(0.65 0.02 260);
  --color-accent: oklch(0.70 0.18 280);
  --color-accent-hover: oklch(0.78 0.18 280);
  --color-success: oklch(0.72 0.18 160);
  --color-warning: oklch(0.78 0.16 85);
  --color-error: oklch(0.68 0.20 25);
  --font-mono: "SF Mono", "Fira Code", "JetBrains Mono", monospace;
}

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-surface text-text;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
    margin: 0;
    min-height: 100vh;
  }

  :root[data-theme="tokyo-night"] {
    --color-surface: oklch(0.16 0.02 260);
    --color-surface-elevated: oklch(0.20 0.025 260);
    --color-surface-hover: oklch(0.24 0.03 260);
    --color-border: oklch(0.30 0.03 260);
    --color-border-subtle: oklch(0.24 0.025 260);
    --color-text: oklch(0.92 0.01 260);
    --color-text-muted: oklch(0.65 0.02 260);
    --color-accent: oklch(0.70 0.18 280);
    --color-accent-hover: oklch(0.78 0.18 280);
  }

  :root[data-theme="dark"] {
    --color-surface: oklch(0.145 0 0);
    --color-surface-elevated: oklch(0.18 0 0);
    --color-surface-hover: oklch(0.22 0 0);
    --color-border: oklch(0.28 0 0);
    --color-border-subtle: oklch(0.22 0 0);
    --color-text: oklch(0.95 0 0);
    --color-text-muted: oklch(0.65 0 0);
    --color-accent: oklch(0.65 0.25 280);
    --color-accent-hover: oklch(0.72 0.25 280);
  }

  :root[data-theme="light"] {
    --color-surface: oklch(0.98 0 0);
    --color-surface-elevated: oklch(1 0 0);
    --color-surface-hover: oklch(0.95 0 0);
    --color-border: oklch(0.85 0 0);
    --color-border-subtle: oklch(0.9 0 0);
    --color-text: oklch(0.15 0 0);
    --color-text-muted: oklch(0.45 0 0);
    --color-accent: oklch(0.55 0.25 280);
    --color-accent-hover: oklch(0.48 0.25 280);
  }

  * {
    scrollbar-width: thin;
    scrollbar-color: var(--color-text-muted) var(--color-surface-elevated);
  }

  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    background: var(--color-surface-elevated);
    border-radius: 5px;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--color-text-muted);
    border-radius: 5px;
    border: 2px solid var(--color-surface-elevated);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--color-accent);
  }
}

@layer components {
  .glass {
    background: oklch(0.18 0 0 / 0.8);
    backdrop-filter: blur(12px);
    border: 1px solid var(--color-border-subtle);
  }

  :root[data-theme="light"] .glass {
    background: oklch(1 0 0 / 0.85);
  }

  .knob-ring {
    stroke-linecap: round;
    transition: stroke-dashoffset 0.15s ease-out;
  }

  .visualizer-bar {
    transform-origin: bottom;
    transition: transform 0.05s ease-out;
  }

  .glow-accent {
    box-shadow: 0 0 20px oklch(0.65 0.25 280 / 0.3);
  }
}

@keyframes pulse-glow {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

@keyframes waveform {
  0%, 100% { transform: scaleY(0.3); }
  50% { transform: scaleY(1); }
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}
